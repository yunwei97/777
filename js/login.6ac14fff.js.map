{"version":3,"sources":["webpack:///./src/views/Login.vue?0f9a","webpack:///./src/views/Login.vue?1501","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?835e","webpack:///./src/assets/hero.gif"],"names":["class","src","style","href","target","label-position","rules","model","ruleForm","ref","label","prop","type","username","autocomplete","password","submitForm","checked","boxText","name","setup","loginForm","router","state","required","message","trigger","value","validate","valid","console","log","warning","axios","post","then","res","success","token","push","catch","e","resetForm","resetFields","render","__scopeId","module","exports"],"mappings":"uGAAA,W,kFCAA,W,4JCCSA,MAAM,c,GACFA,MAAM,mB,EACT,eAMM,OANDA,MAAM,QAAM,CACf,eAA6C,OAAxCA,MAAM,OAAOC,IAAA,MAClB,eAGM,OAHDD,MAAM,QAAM,CACf,eAA6B,OAAxBA,MAAM,SAAQ,QACnB,eAAqC,OAAhCA,MAAM,QAAO,qB,KAWlB,eAA8G,OAAzGE,MAAA,gBAAmB,C,eAAC,aAAS,eAAsE,KAAnEC,KAAK,oCAAoCC,OAAO,UAAS,Y,oBAC5B,Q,oOAlB5E,eAuBM,MAvBN,EAuBM,CAtBF,eAqBM,MArBN,EAqBM,CApBJ,EAOA,eAYU,GAZDC,iBAAe,MAAOC,MAAO,EAAAA,MAAQC,MAAO,EAAAC,SAAUC,IAAI,YAAYT,MAAM,c,YACnF,iBAEe,CAFf,eAEe,GAFDU,MAAM,KAAKC,KAAK,Y,YAC5B,iBAAqF,CAArF,eAAqF,GAA3EC,KAAK,O,WAAqB,EAAAJ,SAASK,S,qDAAT,EAAAL,SAASK,SAAQ,I,eAA/B,UAAiCC,aAAa,O,iCAEtE,eAEe,GAFDJ,MAAM,KAAKC,KAAK,Y,YAC5B,iBAAyF,CAAzF,eAAyF,GAA/EC,KAAK,W,WAAyB,EAAAJ,SAASO,S,qDAAT,EAAAP,SAASO,SAAQ,I,eAA/B,UAAiCD,aAAa,O,iCAE1E,eAIe,Q,WAHb,iBAA8G,CAA9G,EACA,eAAkF,GAAvEZ,MAAA,eAAoBU,KAAK,UAAW,QAAO,EAAAI,Y,YAAY,iBAAI,C,0BACtE,eAA2E,G,WAArD,EAAAC,Q,qDAAA,EAAAA,QAAO,IAAG,SAAM,+BAAG,EAAAA,W,YAAS,iBAAW,C,8BAAT,EAAAC,SAAO,O,0JAc1D,GACbC,KAAM,QACNC,MAFa,WAGX,IAAMC,EAAY,eAAI,MAChBC,EAAS,iBACTC,EAAQ,eAAS,CACrBf,SAAU,CACRK,SAAU,QACVE,SAAU,UAEZE,SAAS,EACTX,MAAO,CACLO,SAAU,CACR,CAAEW,SAAU,OAAQC,QAAS,SAAUC,QAAS,SAElDX,SAAU,CACR,CAAES,SAAU,OAAQC,QAAS,SAAUC,QAAS,YAIhDR,EAAU,gBAAS,WACvB,OAAGK,EAAMN,QACA,aAEA,gBAGLD,EAAS,yDAAI,8FACjBK,EAAUM,MAAMC,UAAS,SAACC,GACxB,IAAIA,EAgBF,OAFAC,QAAQC,IAAI,kBACZ,OAAUC,QAAQ,eACX,EAfPC,EAAA,KAAMC,KAAK,aAAc,CACvBrB,SAAUU,EAAMf,SAASK,UAAY,GACrCE,SAAUQ,EAAMf,SAASO,WACxBoB,MAAK,SAAAC,GACN,OAAUC,QAAQ,aACfd,EAAMN,QACT,eAAS,QAASmB,EAAIE,MAAQ,OAE5B,eAAS,QAAQF,EAAIE,OAEvBhB,EAAOiB,KAAK,QACXC,OAAM,SAAAC,GAAMX,QAAQC,IAAIU,SAdd,2CAAJ,qDAsBTC,EAAY,WAChBrB,EAAUM,MAAMgB,eAElB,wCACK,eAAOpB,IADZ,IAEEL,UACAG,YACAL,aACA0B,gB,oBCrFN,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,qBCTfC,EAAOC,QAAU,IAA0B","file":"js/login.6ac14fff.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=4a09271d&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=1&id=4a09271d&lang=css\"","<template>\r\n    <div class=\"login-body\">\r\n        <div class=\"login-container\">\r\n          <div class=\"head\">\r\n            <img class=\"logo\" src=\"../assets/hero.gif\" />\r\n            <div class=\"name\">\r\n              <div class=\"title\">幻想乡♂</div>\r\n              <div class=\"tips\">Vue3.0 后台管理系统</div>\r\n            </div>\r\n          </div>\r\n          <el-form label-position=\"top\" :rules=\"rules\" :model=\"ruleForm\" ref=\"loginForm\" class=\"login-form\">\r\n            <el-form-item label=\"账号\" prop=\"username\">\r\n              <el-input type=\"text\" v-model.trim=\"ruleForm.username\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input type=\"password\" v-model.trim=\"ruleForm.password\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <div style=\"color: #333\">登录即表示您已同意<a href=\"https://www.qq.com/contract.shtml\" target=\"_blank\">《服务条款》</a></div>\r\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"submitForm\">立即登录</el-button>\r\n              <el-checkbox v-model=\"checked\" @change=\"!checked\">{{boxText}}</el-checkbox>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../utils/axios.js'\r\nimport { reactive, ref, toRefs, computed } from 'vue'\r\nimport { localSet } from '../utils/index.js'\r\nimport { ElMessage } from 'element-plus'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const loginForm = ref(null)\r\n    const router = useRouter()\r\n    const state = reactive({\r\n      ruleForm: {\r\n        username: 'admin',\r\n        password: '123456'\r\n      },\r\n      checked: true,\r\n      rules: {\r\n        username: [\r\n          { required: 'true', message: '账户不能为空', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: 'true', message: '密码不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    })\r\n    const boxText = computed(() => {\r\n      if(state.checked) {\r\n        return \"一天之内保留登陆状态\"\r\n      } else {\r\n        return \"15分钟之后自动注销\"\r\n      }\r\n    })\r\n    const submitForm = async () => {\r\n      loginForm.value.validate((valid) => {\r\n        if (valid) {\r\n          axios.post('/api/login', {\r\n            username: state.ruleForm.username || '',\r\n            password: state.ruleForm.password\r\n          }).then(res => {\r\n            ElMessage.success('登陆成功！欢迎你！')\r\n            if(state.checked) {\r\n            localSet('token', res.token + 86400000)\r\n            } else {\r\n              localSet('token',res.token)\r\n            }\r\n            router.push('/')\r\n          }).catch(e => {console.log(e)})\r\n        } else {\r\n          console.log('error submit!!')\r\n          ElMessage.warning('你还没有输入账号密码')\r\n          return false;\r\n        }\r\n      })\r\n    }\r\n    const resetForm = () => {\r\n      loginForm.value.resetFields();\r\n    }\r\n    return {\r\n      ...toRefs(state),\r\n      boxText,\r\n      loginForm,\r\n      submitForm,\r\n      resetForm\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .login-body {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    /* background-image: linear-gradient(25deg, #077f7c, #3aa693, #5ecfaa, #7ffac2); */\r\n    background-image: linear-gradient(25deg, #077f7f, #3aa6a1, #5ea6cf, #7fc3fa);\r\n  }\r\n  .login-container {\r\n    width: 420px;\r\n    height: 500px;\r\n    background-color: rgba(255, 255, 255,0.5);\r\n    border-radius: 4px;\r\n    box-shadow: 0 21px 41px 0 rgba(0, 0, 0, 0.2);\r\n  }\r\n  .head {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 40px 0 20px 0;\r\n  }\r\n  .head img {\r\n    width: 100px;\r\n    height: 100px;\r\n    margin-right: 20px;\r\n  }\r\n  .head .title {\r\n    font-size: 28px;\r\n    color: #f77f7f;\r\n    font-weight: bold;\r\n  }\r\n  .head .tips {\r\n    font-size: 12px;\r\n    color: #999;\r\n  }\r\n  .login-form {\r\n    width: 70%;\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n\r\n<style>\r\n.el-form--label-top .el-form-item__label {\r\n    padding: 0;\r\n  }\r\n.login-form .el-form-item {\r\n    margin-bottom: 12px;\r\n  }\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=4a09271d&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=4a09271d&scoped=true&lang=css\"\nimport \"./Login.vue?vue&type=style&index=1&id=4a09271d&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4a09271d\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/hero.50fd2479.gif\";"],"sourceRoot":""}