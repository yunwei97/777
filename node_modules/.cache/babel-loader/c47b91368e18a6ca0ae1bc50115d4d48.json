{"remainingRequest":"C:\\Users\\84407\\Desktop\\777\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\84407\\Desktop\\777\\src\\views\\Table2.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\84407\\Desktop\\777\\src\\views\\Table2.vue","mtime":1625128471243},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvODQ0MDcvRGVza3RvcC83Nzcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcywgb25Nb3VudGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJy4uL3V0aWxzL2F4aW9zLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIHRhYmxlUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiB0YWJsZVJvd0NsYXNzTmFtZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdzsKCiAgICAgIGlmIChyb3cuc3ROdW0gPT09IDIwMjEwOTk2KSB7CiAgICAgICAgcmV0dXJuICdteS1yb3cnOwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWw6IDAsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc3dpdGNoT246IHRydWUsCiAgICAgIHN1YmplY3QxOiAi57u85ZCI56eR55uuMSIsCiAgICAgIHN1YmplY3QyOiAi57u85ZCI56eR55uuMiIsCiAgICAgIHN1YmplY3QzOiAi57u85ZCI56eR55uuMyIKICAgIH0pOwoKICAgIHZhciBjb21wYXJlWCA9IGZ1bmN0aW9uIGNvbXBhcmVYKGF0cmkpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgdmFyIHZhbHVlMSA9IGFbYXRyaV07CiAgICAgICAgdmFyIHZhbHVlMiA9IGJbYXRyaV07CiAgICAgICAgcmV0dXJuIHZhbHVlMiAtIHZhbHVlMTsKICAgICAgfTsKICAgIH07CgogICAgdmFyIGhhbmRsZUN1cnJlbnRDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGNwYWdlKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRQYWdlID0gY3BhZ2U7CiAgICB9OwoKICAgIHZhciBoYW5kbGVTaXplQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwc2l6ZSkgewogICAgICBzdGF0ZS5wYWdlU2l6ZSA9IHBzaXplOwogICAgfTsKCiAgICB2YXIgbG9hZFNjb3BlID0gZnVuY3Rpb24gbG9hZFNjb3BlKCkgewogICAgICB2YXIgc3ViID0gIiI7CgogICAgICBpZiAoc3RhdGUuc3dpdGNoT24gPT09IHRydWUpIHsKICAgICAgICBzdWIgPSAic2NpZW5jZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3ViID0gImxpYmVyYWwiOwogICAgICB9CgogICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MuZ2V0KCIvIi5jb25jYXQoc3ViKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgc3RhdGUudGFibGVEYXRhID0gcmVzLnRhYmxlRGF0YS5zb3J0KGNvbXBhcmVYKCJ0b3RhbHNjb3JlIikpOwogICAgICAgIHN0YXRlLnBhZ2VTaXplID0gcmVzLnBhZ2VTaXplOwogICAgICAgIHN0YXRlLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgIHN0YXRlLnN1YmplY3QxID0gcmVzLnN1YmplY3QxOwogICAgICAgIHN0YXRlLnN1YmplY3QyID0gcmVzLnN1YmplY3QyOwogICAgICAgIHN0YXRlLnN1YmplY3QzID0gcmVzLnN1YmplY3QzOwogICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGxvYWRTY29wZSgpOwogICAgfSk7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgICAgbG9hZFNjb3BlOiBsb2FkU2NvcGUsCiAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGhhbmRsZUN1cnJlbnRDaGFuZ2UsCiAgICAgIGhhbmRsZVNpemVDaGFuZ2U6IGhhbmRsZVNpemVDaGFuZ2UKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\84407\\Desktop\\777\\src\\views\\Table2.vue"],"names":[],"mappings":";;AAiFA,SAAS,QAAT,EAAkB,MAAlB,EAAyB,SAAzB,QAA0C,KAA1C;AACA,OAAO,KAAP,MAAkB,mBAAlB;AAEA,eAAe;AACX,EAAA,OAAO,EAAE;AACP,IAAA,iBADO,mCACkB;AAAA,UAAN,GAAM,QAAN,GAAM;;AACvB,UAAI,GAAG,CAAC,KAAJ,KAAc,QAAlB,EAA4B;AAC1B,eAAO,QAAP;AACF;;AACA,aAAO,EAAP;AACF;AANO,GADE;AASX,EAAA,KATW,mBASH;AACJ,QAAM,KAAI,GAAG,QAAQ,CAAC;AAClB,MAAA,SAAS,EAAE,EADO;AAElB,MAAA,QAAQ,EAAE,EAFQ;AAGlB,MAAA,KAAK,EAAE,CAHW;AAIlB,MAAA,WAAW,EAAE,CAJK;AAKlB,MAAA,OAAO,EAAE,KALS;AAMlB,MAAA,QAAQ,EAAE,IANQ;AAOlB,MAAA,QAAQ,EAAE,OAPQ;AAQlB,MAAA,QAAQ,EAAE,OARQ;AASlB,MAAA,QAAQ,EAAE;AATQ,KAAD,CAArB;;AAWA,QAAM,QAAO,GAAI,SAAX,QAAW,CAAC,IAAD,EAAU;AACvB,aAAO,UAAS,CAAT,EAAW,CAAX,EAAc;AACjB,YAAI,MAAK,GAAI,CAAC,CAAC,IAAD,CAAd;AACA,YAAI,MAAK,GAAI,CAAC,CAAC,IAAD,CAAd;AACA,eAAO,MAAK,GAAI,MAAhB;AACJ,OAJA;AAKJ,KANA;;AAOA,QAAM,mBAAkB,GAAI,SAAtB,mBAAsB,CAAC,KAAD,EAAW;AACnC,MAAA,KAAK,CAAC,WAAN,GAAoB,KAApB;AACJ,KAFA;;AAGA,QAAM,gBAAe,GAAI,SAAnB,gBAAmB,CAAC,KAAD,EAAW;AAChC,MAAA,KAAK,CAAC,QAAN,GAAiB,KAAjB;AACJ,KAFA;;AAGA,QAAM,SAAQ,GAAI,SAAZ,SAAY,GAAM;AACpB,UAAI,GAAE,GAAI,EAAV;;AACA,UAAG,KAAK,CAAC,QAAN,KAAmB,IAAtB,EAA4B;AAC1B,QAAA,GAAE,GAAI,SAAN;AACF,OAFA,MAEO;AACL,QAAA,GAAE,GAAI,SAAN;AACF;;AACA,MAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACA,MAAA,KAAK,CAAC,GAAN,YAAc,GAAd,GACC,IADD,CACM,UAAC,GAAD,EAAS;AACX,QAAA,KAAK,CAAC,SAAN,GAAkB,GAAG,CAAC,SAAJ,CAAc,IAAd,CAAmB,QAAQ,CAAC,YAAD,CAA3B,CAAlB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,KAAN,GAAc,GAAG,CAAC,KAAlB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,OAAN,GAAgB,KAAhB;AACH,OATD,EASG,KATH,CASS,UAAC,CAAD,EAAO;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACH,OAXD;AAYJ,KApBA;;AAqBA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,SAAS;AACV,KAFQ,CAAT;AAGA,2CACO,MAAM,CAAC,KAAD,CADb;AAEI,MAAA,SAAS,EAAT,SAFJ;AAGI,MAAA,mBAAmB,EAAnB,mBAHJ;AAII,MAAA,gBAAe,EAAf;AAJJ;AAMJ;AAhEW,CAAf","sourcesContent":["<template>\r\n    <el-card class=\"scope-card\">\r\n        <template #header>\r\n          <div class=\"scope-card-header\">\r\n            <span>成绩排名</span>\r\n            <el-switch v-model=\"switchOn\"\r\n             :loading=\"loading\" \r\n             @change=\"loadScope\" \r\n             active-text=\"查看理科成绩\" \r\n             inactive-text=\"查看文科成绩\"\r\n             active-color=\"#8bbcfd\"\r\n             inactive-color=\"#fd8b8b\"\r\n             >\r\n            </el-switch>\r\n          </div>\r\n        </template>\r\n        <el-table\r\n      :data=\"tableData.slice((currentPage - 1) * pageSize, currentPage * pageSize)\"\r\n      style=\"width: 100%\"\r\n      v-loading=\"loading\"\r\n      :row-class-name=\"tableRowClassName\"\r\n      >\r\n      <el-table-column\r\n        prop=\"stNum\"\r\n        label=\"学号\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"姓名\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"chinese\"\r\n        label=\"语文\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"math\"\r\n        label=\"数学\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"english\"\r\n        label=\"英语\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course1\"\r\n        :label=\"subject1\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course2\"\r\n        :label=\"subject2\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course3\"\r\n        :label=\"subject3\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"totalscore\"\r\n        label=\"总分\"\r\n      >\r\n      </el-table-column>\r\n      \r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :page-size=\"pageSize\"\r\n      @current-change=\"handleCurrentChange\"\r\n      @size-change=\"handleSizeChange\" \r\n    />\r\n      </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { reactive,toRefs,onMounted } from 'vue'\r\nimport axios from '../utils/axios.js'\r\n\r\nexport default {\r\n    methods: {\r\n      tableRowClassName({row}) {\r\n        if (row.stNum === 20210996) {\r\n          return 'my-row';\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    setup() {\r\n        const state =reactive({\r\n            tableData: [],\r\n            pageSize: 10,\r\n            total: 0,\r\n            currentPage: 1,\r\n            loading: false,\r\n            switchOn: true,\r\n            subject1: \"综合科目1\",\r\n            subject2: \"综合科目2\",\r\n            subject3: \"综合科目3\"\r\n        })\r\n        const compareX = (atri) => {\r\n            return function(a,b) {\r\n                let value1 = a[atri];\r\n                let value2 = b[atri];\r\n                return value2 - value1\r\n            }\r\n        }\r\n        const handleCurrentChange = (cpage) => {\r\n            state.currentPage = cpage\r\n        }\r\n        const handleSizeChange = (psize) => {\r\n            state.pageSize = psize\r\n        }\r\n        const loadScope = () => {\r\n            let sub = \"\"\r\n            if(state.switchOn === true) {\r\n              sub = \"science\"\r\n            } else {\r\n              sub = \"liberal\"\r\n            }\r\n            state.loading = true\r\n            axios.get(`/${sub}`)\r\n            .then((res) => {\r\n                state.tableData = res.tableData.sort(compareX(\"totalscore\"));\r\n                state.pageSize = res.pageSize;\r\n                state.total = res.total;\r\n                state.subject1 = res.subject1;\r\n                state.subject2 = res.subject2;\r\n                state.subject3 = res.subject3;\r\n                state.loading = false\r\n            }).catch((e) => {\r\n                console.log(e)\r\n            })\r\n        }\r\n        onMounted(() => {\r\n          loadScope()\r\n        })\r\n        return {\r\n            ...toRefs(state),\r\n            loadScope,\r\n            handleCurrentChange,\r\n            handleSizeChange\r\n        }\r\n    }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .scope-card {\r\n        margin: 10px;\r\n    }\r\n    .scope-card .scope-card-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n</style>\r\n\r\n<style>\r\n  .el-table .my-row {\r\n    background: rgba(128, 182, 253, 0.315);\r\n    color: #8bbcfd\r\n  }\r\n</style>"],"sourceRoot":""}]}