{"remainingRequest":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Login.vue","mtime":1624614931666},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvODQ0MDcvRGVza3RvcC83NzcvNzc3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzLzg0NDA3L0Rlc2t0b3AvNzc3Lzc3Ny9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJy4uL3V0aWxzL2F4aW9zLmpzJzsKaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgbG9jYWxTZXQgfSBmcm9tICcuLi91dGlscy9pbmRleC5qcyc7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBsb2dpbkZvcm0gPSByZWYobnVsbCk7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBjaGVja2VkOiB0cnVlLAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6ICd0cnVlJywKICAgICAgICAgIG1lc3NhZ2U6ICfotKbmiLfkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogJ3RydWUnLAogICAgICAgICAgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9KTsKCiAgICB2YXIgc3VibWl0Rm9ybSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvZ2luRm9ybS52YWx1ZS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBzdGF0ZS5ydWxlRm9ybS51c2VybmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBzdGF0ZS5ydWxlRm9ybS5wYXNzd29yZAogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+eZu+mZhuaIkOWKnyEnKTsKICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU2V0KCd0b2tlbicsIHJlcy50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJzsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIHJlc2V0Rm9ybSA9IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgbG9naW5Gb3JtLnZhbHVlLnJlc2V0RmllbGRzKCk7CiAgICB9OwoKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvUmVmcyhzdGF0ZSkpLCB7fSwgewogICAgICBsb2dpbkZvcm06IGxvZ2luRm9ybSwKICAgICAgc3VibWl0Rm9ybTogc3VibWl0Rm9ybSwKICAgICAgcmVzZXRGb3JtOiByZXNldEZvcm0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Login.vue"],"names":[],"mappings":";;;AA4BA,OAAO,KAAP,MAAkB,mBAAlB;AACA,SAAS,QAAT,EAAmB,GAAnB,EAAwB,MAAxB,QAAsC,KAAtC;AACA,SAAS,QAAT,QAAyB,mBAAzB;AACA,SAAS,SAAT,QAA0B,cAA1B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,SAAQ,GAAI,GAAG,CAAC,IAAD,CAArB;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,QAAQ,EAAE;AACR,QAAA,QAAQ,EAAE,EADF;AAER,QAAA,QAAQ,EAAE;AAFF,OADW;AAKrB,MAAA,OAAO,EAAE,IALY;AAMrB,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,CACR;AAAE,UAAA,QAAQ,EAAE,MAAZ;AAAoB,UAAA,OAAO,EAAE,QAA7B;AAAuC,UAAA,OAAO,EAAE;AAAhD,SADQ,CADL;AAIL,QAAA,QAAQ,EAAE,CACR;AAAE,UAAA,QAAQ,EAAE,MAAZ;AAAoB,UAAA,OAAO,EAAE,QAA7B;AAAuC,UAAA,OAAO,EAAE;AAAhD,SADQ;AAJL;AANc,KAAD,CAAtB;;AAeA,QAAM,UAAS;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AACjB,gBAAA,SAAS,CAAC,KAAV,CAAgB,QAAhB,CAAyB,UAAC,KAAD,EAAW;AAClC,sBAAI,KAAJ,EAAW;AACT,oBAAA,KAAK,CAAC,IAAN,CAAW,YAAX,EAAyB;AACvB,sBAAA,QAAQ,EAAE,KAAK,CAAC,QAAN,CAAe,QAAf,IAA2B,EADd;AAEvB,sBAAA,QAAQ,EAAE,KAAK,CAAC,QAAN,CAAe;AAFF,qBAAzB,EAGG,IAHH,CAGQ,UAAA,GAAE,EAAK;AACb,sBAAA,SAAS,CAAC,OAAV,CAAkB,OAAlB;AACA,sBAAA,QAAQ,CAAC,OAAD,EAAU,GAAG,CAAC,KAAd,CAAR;AACA,sBAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,GAAvB;AACD,qBAPD,EAOG,KAPH,CAOS,UAAA,CAAA,EAAK;AAAC,sBAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AAAe,qBAP9B;AAQF,mBATA,MASO;AACL,oBAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AACA,2BAAO,KAAP;AACF;AACD,iBAdD;;AADiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAT,UAAS;AAAA;AAAA;AAAA,OAAf;;AAiBA,QAAM,SAAQ,GAAI,SAAZ,SAAY,GAAM;AACtB,MAAA,SAAS,CAAC,KAAV,CAAgB,WAAhB;AACF,KAFA;;AAGA,2CACK,MAAM,CAAC,KAAD,CADX;AAEE,MAAA,SAAS,EAAT,SAFF;AAGE,MAAA,UAAU,EAAV,UAHF;AAIE,MAAA,SAAQ,EAAR;AAJF;AAMF;AA7Ca,CAAf","sourcesContent":["<template>\r\n    <div class=\"login-body\">\r\n        <div class=\"login-container\">\r\n          <div class=\"head\">\r\n            <img class=\"logo\" src=\"../assets/hero.gif\" />\r\n            <div class=\"name\">\r\n              <div class=\"title\">幻想乡♂</div>\r\n              <div class=\"tips\">Vue3.0 后台管理系统</div>\r\n            </div>\r\n          </div>\r\n          <el-form label-position=\"top\" :rules=\"rules\" :model=\"ruleForm\" ref=\"loginForm\" class=\"login-form\">\r\n            <el-form-item label=\"账号\" prop=\"username\">\r\n              <el-input type=\"text\" v-model.trim=\"ruleForm.username\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input type=\"password\" v-model.trim=\"ruleForm.password\" autocomplete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <div style=\"color: #333\">登录表示您已同意<a href=\"https://www.qq.com/contract.shtml\" target=\"_blank\">《服务条款》</a></div>\r\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"submitForm\">立即登录</el-button>\r\n              <el-checkbox v-model=\"checked\" @change=\"!checked\">下次自动登录</el-checkbox>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '../utils/axios.js'\r\nimport { reactive, ref, toRefs } from 'vue'\r\nimport { localSet } from '../utils/index.js'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  setup() {\r\n    const loginForm = ref(null)\r\n    const state = reactive({\r\n      ruleForm: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      checked: true,\r\n      rules: {\r\n        username: [\r\n          { required: 'true', message: '账户不能为空', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: 'true', message: '密码不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    })\r\n    const submitForm = async () => {\r\n      loginForm.value.validate((valid) => {\r\n        if (valid) {\r\n          axios.post('/api/login', {\r\n            username: state.ruleForm.username || '',\r\n            password: state.ruleForm.password\r\n          }).then(res => {\r\n            ElMessage.success('登陆成功!')\r\n            localSet('token', res.token)\r\n            window.location.href = '/'\r\n          }).catch(e => {console.log(e)})\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false;\r\n        }\r\n      })\r\n    }\r\n    const resetForm = () => {\r\n      loginForm.value.resetFields();\r\n    }\r\n    return {\r\n      ...toRefs(state),\r\n      loginForm,\r\n      submitForm,\r\n      resetForm\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .login-body {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    /* background-image: linear-gradient(25deg, #077f7c, #3aa693, #5ecfaa, #7ffac2); */\r\n  }\r\n  .login-container {\r\n    width: 420px;\r\n    height: 500px;\r\n    background-color: #fff;\r\n    border-radius: 4px;\r\n    box-shadow: 0 21px 41px 0 rgba(0, 0, 0, 0.2);\r\n  }\r\n  .head {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 40px 0 20px 0;\r\n  }\r\n  .head img {\r\n    width: 100px;\r\n    height: 100px;\r\n    margin-right: 20px;\r\n  }\r\n  .head .title {\r\n    font-size: 28px;\r\n    color: #f77f7f;\r\n    font-weight: bold;\r\n  }\r\n  .head .tips {\r\n    font-size: 12px;\r\n    color: #999;\r\n  }\r\n  .login-form {\r\n    width: 70%;\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n\r\n<style>\r\n.el-form--label-top .el-form-item__label {\r\n    padding: 0;\r\n  }\r\n.login-form .el-form-item {\r\n    margin-bottom: 12px;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}