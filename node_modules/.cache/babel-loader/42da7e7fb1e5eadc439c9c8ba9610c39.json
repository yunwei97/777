{"remainingRequest":"C:\\Users\\84407\\Desktop\\777\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\84407\\Desktop\\777\\src\\components\\Header.vue?vue&type=template&id=61dd7a3d&scoped=true","dependencies":[{"path":"C:\\Users\\84407\\Desktop\\777\\src\\components\\Header.vue","mtime":1623984397588},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNjFkZDdhM2QiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTYxZGQ3YTNkIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImhlYWRlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJsZWZ0Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBzdHlsZTogewogICAgImZvbnQtc2l6ZSI6ICIyMHB4IgogIH0KfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJyaWdodCIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJhdXRob3IiCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImkiLCB7CiAgY2xhc3M6ICJpY29uIGVsLWljb24tcy1jdXN0b20iCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaSIsIHsKICBjbGFzczogImVsLWljb24tY2FyZXQtYm90dG9tIgp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogIm5pY2tuYW1lIgp9OwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi6YCA5Ye6Iik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfZWxfdGFnID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhZyIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9wb3BvdmVyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXBvcG92ZXIiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2N0eC5oYXNCYWNrID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJpIiwgewogICAga2V5OiAwLAogICAgY2xhc3M6ICJlbC1pY29uLWJhY2siLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuYmFjayAmJiAkc2V0dXAuYmFjay5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMywgX3RvRGlzcGxheVN0cmluZyhfY3R4Lm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcG9wb3ZlciwgewogICAgcGxhY2VtZW50OiAiYm90dG9tIiwKICAgIHdpZHRoOiAzMjAsCiAgICB0cmlnZ2VyOiAiY2xpY2siLAogICAgInBvcHBlci1jbGFzcyI6ICJwb3BwZXItdXNlci1ib3giCiAgfSwgewogICAgcmVmZXJlbmNlOiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfaG9pc3RlZF82LCBfY3JlYXRlVGV4dFZOb2RlKCIgIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC51c2VySW5mbyAmJiBfY3R4LnVzZXJJbmZvLm5pY2tOYW1lIHx8ICcnKSArICIgIiwgMQogICAgICAvKiBURVhUICovCiAgICAgICksIF9ob2lzdGVkXzddKV07CiAgICB9KSwKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVWTm9kZSgicCIsIG51bGwsICLnmbvlvZXlkI3vvJoiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LnVzZXJJbmZvICYmIF9jdHgudXNlckluZm8ubG9naW5Vc2VyTmFtZSB8fCAnJyksIDEKICAgICAgLyogVEVYVCAqLwogICAgICApLCBfY3JlYXRlVk5vZGUoInAiLCBudWxsLCAi5pi156ew77yaIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC51c2VySW5mbyAmJiBfY3R4LnVzZXJJbmZvLm5pY2tOYW1lIHx8ICcnKSwgMQogICAgICAvKiBURVhUICovCiAgICAgICksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhZywgewogICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgZWZmZWN0OiAiZGFyayIsCiAgICAgICAgY2xhc3M6ICJsb2dvdXQiLAogICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5sb2dvdXQKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF85XTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9LCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJvbkNsaWNrIl0pXSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSldKV0pOwp9KTs="},{"version":3,"sources":["C:\\Users\\84407\\Desktop\\777\\src\\components\\Header.vue"],"names":[],"mappings":";;;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAEH,EAAA,KAAuB,EAAvB;AAAA,iBAAA;AAAA;;;AAEH,EAAA,KAAK,EAAC;;;AAQA,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAmC,GAAnC,EAAmC;AAAhC,EAAA,KAAK,EAAC;AAA0B,CAAnC,EAAgC,IAAhC,EAAgC,CAAA;AAAA;AAAhC,C;;8BAEA,YAAA,CAAkC,GAAlC,EAAkC;AAA/B,EAAA,KAAK,EAAC;AAAyB,CAAlC,EAA+B,IAA/B,EAA+B,CAAA;AAAA;AAA/B,C;;;AAGC,EAAA,KAAK,EAAC;;;+CAGyD,I;;;;;;;;;uBAtB1E,YAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,CAzBJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFK,IAAA,CAAA,O,kBAAT,YAAA,CAAyD,GAAzD,EAAyD;UAAA;AAAvC,IAAA,KAAK,EAAC,cAAiC;AAAjB,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAAY,GAAzD,C,qCAEI,EADJ,YAAA,CAA+C,MAA/C,EAAA,UAAA,EAA+C,gBAAA,CAAd,IAAA,CAAA,IAAc,CAA/C,EAAqC;AAAA;AAArC,GACI,CAHN,CAyBI,EArBJ,YAAA,CAoBM,KApBN,EAAA,UAAA,EAoBM,CAnBJ,YAAA,CAkBa,qBAlBb,EAkBa;AAjBX,IAAA,SAAS,EAAC,QAiBC;AAhBV,IAAA,KAAK,EAAE,GAgBG;AAfX,IAAA,OAAO,EAAC,OAeG;AAdX,oBAAa;AAcF,GAlBb,E;AAMa,IAAA,SAAS,EAAA,OAAA,CAClB;AAAA,aAIM,CAJN,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,UAGI,E,iBAH+B,MACnC,gBAAA,CAAG,IAAA,CAAA,QAAA,IAAY,IAAA,CAAA,QAAA,CAAS,QAArB,IAA6B,EAAhC,CADmC,GACM,G,EACzC;AAAA;OACI,EADJ,UACI,CAJN,CAIM,CAJN;AAAA,KADkB,C;qBAOpB;AAAA,aAIM,CAJN,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAyD,GAAzD,EAAyD,IAAzD,EAAG,SAAI,gBAAA,CAAG,IAAA,CAAA,QAAA,IAAY,IAAA,CAAA,QAAA,CAAS,aAArB,IAAkC,EAArC,CAAP,EAA4C;AAAA;AAA5C,OAGI,EAFJ,YAAA,CAAmD,GAAnD,EAAmD,IAAnD,EAAG,QAAG,gBAAA,CAAG,IAAA,CAAA,QAAA,IAAY,IAAA,CAAA,QAAA,CAAS,QAArB,IAA6B,EAAhC,CAAN,EAAsC;AAAA;AAAtC,OAEI,EADJ,YAAA,CAA6E,iBAA7E,EAA6E;AAArE,QAAA,IAAI,EAAC,OAAgE;AAAxD,QAAA,MAAM,EAAC,MAAiD;AAA1C,QAAA,KAAK,EAAC,QAAoC;AAA1B,QAAA,OAAK,EAAE,MAAA,CAAA;AAAmB,OAA7E,E;yBAAkE;AAAA,iBAAE,C,UAAA,CAAF;AAAA,S;;;;OAAlE,E;;AAAA,Q,WAAA,CACI,CAJN,CAIM,CAJN;AAAA,K;;;;GAbF,CAmBI,CApBN,CAqBI,CA1BN,C","sourcesContent":["<template>\r\n  <div class=\"header\">\r\n    <div class=\"left\">\r\n      <i v-if=\"hasBack\" class=\"el-icon-back\" @click=\"back\"></i>\r\n      <span style=\"font-size: 20px\">{{ name }}</span>\r\n    </div>\r\n    <div class=\"right\">\r\n      <el-popover\r\n        placement=\"bottom\"\r\n        :width=\"320\"\r\n        trigger=\"click\"\r\n        popper-class=\"popper-user-box\"\r\n      >\r\n        <template #reference>\r\n          <div class=\"author\">\r\n            <i class=\"icon el-icon-s-custom\" />\r\n            {{ userInfo && userInfo.nickName || '' }}\r\n            <i class=\"el-icon-caret-bottom\" />\r\n          </div>\r\n        </template>\r\n        <div class=\"nickname\">\r\n          <p>登录名：{{ userInfo && userInfo.loginUserName || '' }}</p>\r\n          <p>昵称：{{ userInfo && userInfo.nickName || '' }}</p>\r\n          <el-tag size=\"small\" effect=\"dark\" class=\"logout\" @click=\"logout\">退出</el-tag>\r\n        </div>\r\n      </el-popover>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport axios from '../utils/axios'\r\nimport { localRemove, pathMap } from '../utils/index.js'\r\nexport default {\r\n  name: 'Header',\r\n  setup() {\r\n    const router = useRouter()\r\n    const state = reactive({\r\n      name: '主页',\r\n      userInfo: null,\r\n      hasBack: false\r\n    })\r\n    onMounted(() => {\r\n      const pathname = window.location.hash.split('/')[1] || ''\r\n      //如果当前页面不是登录页面，则拉取用户信息。\r\n      if (!['login'].includes(pathname)) {\r\n        getUserInfo()\r\n      }\r\n    })\r\n    const getUserInfo = async () => {\r\n      const userInfo = await axios.get('/api/userinfo');\r\n      state.userInfo = userInfo\r\n    }\r\n    const logout = () => {\r\n        //此处本应该是axios.delete操作，但我暂时不懂后端该怎么写。。\r\n        localRemove('token')\r\n        window.location.reload()\r\n    }\r\n    const back = () => {\r\n      router.back()\r\n    }\r\n    router.afterEach((to) => {\r\n      console.log('to', to)\r\n    //  const { id } = to.query\r\n      state.name = pathMap[to.name]\r\n    //  if (id && to.name == 'add') {\r\n    //    state.name = '编辑商品'\r\n    //  }\r\n    //下面这条代码是动态添加返回键用的，暂时用不到所以先注释掉\r\n    //state.hasBack = ['level2', 'level3', 'order_detail'].includes(to.name)\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      logout,\r\n      back\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .header {\r\n    height: 50px;\r\n    border-bottom: 1px solid #e9e9e9;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 20px;\r\n  }\r\n  .el-icon-back {\r\n    border: 1px solid #e9e9e9;\r\n    padding: 4px;\r\n    border-radius: 50px;\r\n    margin-right: 10px;\r\n  }\r\n  .right > div > .icon{\r\n    font-size: 18px;\r\n    margin-right: 6px;\r\n  }\r\n  .author {\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n<style>\r\n  .popper-user-box {\r\n    background: url('../assets/callingName.jpg') 50% 50% no-repeat!important;\r\n    background-size: cover!important;\r\n    border-radius: 0!important;\r\n  }\r\n  .popper-user-box .nickname {\r\n    position: relative;\r\n    color: #ffffff;\r\n  }\r\n  .popper-user-box .nickname .logout {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    cursor: pointer;\r\n  }\r\n</style>"],"sourceRoot":""}]}