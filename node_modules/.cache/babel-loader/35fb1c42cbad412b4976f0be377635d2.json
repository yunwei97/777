{"remainingRequest":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Table2.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Table2.vue","mtime":1625128471243},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvODQ0MDcvRGVza3RvcC83NzcvNzc3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICcuLi91dGlscy9heGlvcy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBtZXRob2RzOiB7CiAgICB0YWJsZVJvd0NsYXNzTmFtZTogZnVuY3Rpb24gdGFibGVSb3dDbGFzc05hbWUoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3c7CgogICAgICBpZiAocm93LnN0TnVtID09PSAyMDIxMDk5NikgewogICAgICAgIHJldHVybiAnbXktcm93JzsKICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0YXRlID0gcmVhY3RpdmUoewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHRvdGFsOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHN3aXRjaE9uOiB0cnVlLAogICAgICBzdWJqZWN0MTogIue7vOWQiOenkeebrjEiLAogICAgICBzdWJqZWN0MjogIue7vOWQiOenkeebrjIiLAogICAgICBzdWJqZWN0MzogIue7vOWQiOenkeebrjMiCiAgICB9KTsKCiAgICB2YXIgY29tcGFyZVggPSBmdW5jdGlvbiBjb21wYXJlWChhdHJpKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHZhciB2YWx1ZTEgPSBhW2F0cmldOwogICAgICAgIHZhciB2YWx1ZTIgPSBiW2F0cmldOwogICAgICAgIHJldHVybiB2YWx1ZTIgLSB2YWx1ZTE7CiAgICAgIH07CiAgICB9OwoKICAgIHZhciBoYW5kbGVDdXJyZW50Q2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShjcGFnZSkgewogICAgICBzdGF0ZS5jdXJyZW50UGFnZSA9IGNwYWdlOwogICAgfTsKCiAgICB2YXIgaGFuZGxlU2l6ZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocHNpemUpIHsKICAgICAgc3RhdGUucGFnZVNpemUgPSBwc2l6ZTsKICAgIH07CgogICAgdmFyIGxvYWRTY29wZSA9IGZ1bmN0aW9uIGxvYWRTY29wZSgpIHsKICAgICAgdmFyIHN1YiA9ICIiOwoKICAgICAgaWYgKHN0YXRlLnN3aXRjaE9uID09PSB0cnVlKSB7CiAgICAgICAgc3ViID0gInNjaWVuY2UiOwogICAgICB9IGVsc2UgewogICAgICAgIHN1YiA9ICJsaWJlcmFsIjsKICAgICAgfQoKICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7CiAgICAgIGF4aW9zLmdldCgiLyIuY29uY2F0KHN1YikpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHN0YXRlLnRhYmxlRGF0YSA9IHJlcy50YWJsZURhdGEuc29ydChjb21wYXJlWCgidG90YWxzY29yZSIpKTsKICAgICAgICBzdGF0ZS5wYWdlU2l6ZSA9IHJlcy5wYWdlU2l6ZTsKICAgICAgICBzdGF0ZS50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgICBzdGF0ZS5zdWJqZWN0MSA9IHJlcy5zdWJqZWN0MTsKICAgICAgICBzdGF0ZS5zdWJqZWN0MiA9IHJlcy5zdWJqZWN0MjsKICAgICAgICBzdGF0ZS5zdWJqZWN0MyA9IHJlcy5zdWJqZWN0MzsKICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfTsKCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBsb2FkU2NvcGUoKTsKICAgIH0pOwogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9SZWZzKHN0YXRlKSksIHt9LCB7CiAgICAgIGxvYWRTY29wZTogbG9hZFNjb3BlLAogICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBoYW5kbGVDdXJyZW50Q2hhbmdlLAogICAgICBoYW5kbGVTaXplQ2hhbmdlOiBoYW5kbGVTaXplQ2hhbmdlCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\84407\\Desktop\\777\\777\\src\\views\\Table2.vue"],"names":[],"mappings":";;AAiFA,SAAS,QAAT,EAAkB,MAAlB,EAAyB,SAAzB,QAA0C,KAA1C;AACA,OAAO,KAAP,MAAkB,mBAAlB;AAEA,eAAe;AACX,EAAA,OAAO,EAAE;AACP,IAAA,iBADO,mCACkB;AAAA,UAAN,GAAM,QAAN,GAAM;;AACvB,UAAI,GAAG,CAAC,KAAJ,KAAc,QAAlB,EAA4B;AAC1B,eAAO,QAAP;AACF;;AACA,aAAO,EAAP;AACF;AANO,GADE;AASX,EAAA,KATW,mBASH;AACJ,QAAM,KAAI,GAAG,QAAQ,CAAC;AAClB,MAAA,SAAS,EAAE,EADO;AAElB,MAAA,QAAQ,EAAE,EAFQ;AAGlB,MAAA,KAAK,EAAE,CAHW;AAIlB,MAAA,WAAW,EAAE,CAJK;AAKlB,MAAA,OAAO,EAAE,KALS;AAMlB,MAAA,QAAQ,EAAE,IANQ;AAOlB,MAAA,QAAQ,EAAE,OAPQ;AAQlB,MAAA,QAAQ,EAAE,OARQ;AASlB,MAAA,QAAQ,EAAE;AATQ,KAAD,CAArB;;AAWA,QAAM,QAAO,GAAI,SAAX,QAAW,CAAC,IAAD,EAAU;AACvB,aAAO,UAAS,CAAT,EAAW,CAAX,EAAc;AACjB,YAAI,MAAK,GAAI,CAAC,CAAC,IAAD,CAAd;AACA,YAAI,MAAK,GAAI,CAAC,CAAC,IAAD,CAAd;AACA,eAAO,MAAK,GAAI,MAAhB;AACJ,OAJA;AAKJ,KANA;;AAOA,QAAM,mBAAkB,GAAI,SAAtB,mBAAsB,CAAC,KAAD,EAAW;AACnC,MAAA,KAAK,CAAC,WAAN,GAAoB,KAApB;AACJ,KAFA;;AAGA,QAAM,gBAAe,GAAI,SAAnB,gBAAmB,CAAC,KAAD,EAAW;AAChC,MAAA,KAAK,CAAC,QAAN,GAAiB,KAAjB;AACJ,KAFA;;AAGA,QAAM,SAAQ,GAAI,SAAZ,SAAY,GAAM;AACpB,UAAI,GAAE,GAAI,EAAV;;AACA,UAAG,KAAK,CAAC,QAAN,KAAmB,IAAtB,EAA4B;AAC1B,QAAA,GAAE,GAAI,SAAN;AACF,OAFA,MAEO;AACL,QAAA,GAAE,GAAI,SAAN;AACF;;AACA,MAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACA,MAAA,KAAK,CAAC,GAAN,YAAc,GAAd,GACC,IADD,CACM,UAAC,GAAD,EAAS;AACX,QAAA,KAAK,CAAC,SAAN,GAAkB,GAAG,CAAC,SAAJ,CAAc,IAAd,CAAmB,QAAQ,CAAC,YAAD,CAA3B,CAAlB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,KAAN,GAAc,GAAG,CAAC,KAAlB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,QAAN,GAAiB,GAAG,CAAC,QAArB;AACA,QAAA,KAAK,CAAC,OAAN,GAAgB,KAAhB;AACH,OATD,EASG,KATH,CASS,UAAC,CAAD,EAAO;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACH,OAXD;AAYJ,KApBA;;AAqBA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,SAAS;AACV,KAFQ,CAAT;AAGA,2CACO,MAAM,CAAC,KAAD,CADb;AAEI,MAAA,SAAS,EAAT,SAFJ;AAGI,MAAA,mBAAmB,EAAnB,mBAHJ;AAII,MAAA,gBAAe,EAAf;AAJJ;AAMJ;AAhEW,CAAf","sourcesContent":["<template>\r\n    <el-card class=\"scope-card\">\r\n        <template #header>\r\n          <div class=\"scope-card-header\">\r\n            <span>成绩排名</span>\r\n            <el-switch v-model=\"switchOn\"\r\n             :loading=\"loading\" \r\n             @change=\"loadScope\" \r\n             active-text=\"查看理科成绩\" \r\n             inactive-text=\"查看文科成绩\"\r\n             active-color=\"#8bbcfd\"\r\n             inactive-color=\"#fd8b8b\"\r\n             >\r\n            </el-switch>\r\n          </div>\r\n        </template>\r\n        <el-table\r\n      :data=\"tableData.slice((currentPage - 1) * pageSize, currentPage * pageSize)\"\r\n      style=\"width: 100%\"\r\n      v-loading=\"loading\"\r\n      :row-class-name=\"tableRowClassName\"\r\n      >\r\n      <el-table-column\r\n        prop=\"stNum\"\r\n        label=\"学号\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"姓名\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"chinese\"\r\n        label=\"语文\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"math\"\r\n        label=\"数学\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"english\"\r\n        label=\"英语\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course1\"\r\n        :label=\"subject1\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course2\"\r\n        :label=\"subject2\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"course3\"\r\n        :label=\"subject3\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"totalscore\"\r\n        label=\"总分\"\r\n      >\r\n      </el-table-column>\r\n      \r\n    </el-table>\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :page-size=\"pageSize\"\r\n      @current-change=\"handleCurrentChange\"\r\n      @size-change=\"handleSizeChange\" \r\n    />\r\n      </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { reactive,toRefs,onMounted } from 'vue'\r\nimport axios from '../utils/axios.js'\r\n\r\nexport default {\r\n    methods: {\r\n      tableRowClassName({row}) {\r\n        if (row.stNum === 20210996) {\r\n          return 'my-row';\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    setup() {\r\n        const state =reactive({\r\n            tableData: [],\r\n            pageSize: 10,\r\n            total: 0,\r\n            currentPage: 1,\r\n            loading: false,\r\n            switchOn: true,\r\n            subject1: \"综合科目1\",\r\n            subject2: \"综合科目2\",\r\n            subject3: \"综合科目3\"\r\n        })\r\n        const compareX = (atri) => {\r\n            return function(a,b) {\r\n                let value1 = a[atri];\r\n                let value2 = b[atri];\r\n                return value2 - value1\r\n            }\r\n        }\r\n        const handleCurrentChange = (cpage) => {\r\n            state.currentPage = cpage\r\n        }\r\n        const handleSizeChange = (psize) => {\r\n            state.pageSize = psize\r\n        }\r\n        const loadScope = () => {\r\n            let sub = \"\"\r\n            if(state.switchOn === true) {\r\n              sub = \"science\"\r\n            } else {\r\n              sub = \"liberal\"\r\n            }\r\n            state.loading = true\r\n            axios.get(`/${sub}`)\r\n            .then((res) => {\r\n                state.tableData = res.tableData.sort(compareX(\"totalscore\"));\r\n                state.pageSize = res.pageSize;\r\n                state.total = res.total;\r\n                state.subject1 = res.subject1;\r\n                state.subject2 = res.subject2;\r\n                state.subject3 = res.subject3;\r\n                state.loading = false\r\n            }).catch((e) => {\r\n                console.log(e)\r\n            })\r\n        }\r\n        onMounted(() => {\r\n          loadScope()\r\n        })\r\n        return {\r\n            ...toRefs(state),\r\n            loadScope,\r\n            handleCurrentChange,\r\n            handleSizeChange\r\n        }\r\n    }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .scope-card {\r\n        margin: 10px;\r\n    }\r\n    .scope-card .scope-card-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n</style>\r\n\r\n<style>\r\n  .el-table .my-row {\r\n    background: rgba(128, 182, 253, 0.315);\r\n    color: #8bbcfd\r\n  }\r\n</style>"],"sourceRoot":""}]}