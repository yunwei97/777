{"remainingRequest":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\84407\\Desktop\\777\\777\\src\\components\\Header.vue?vue&type=template&id=3f6f1437&scoped=true","dependencies":[{"path":"C:\\Users\\84407\\Desktop\\777\\777\\src\\components\\Header.vue","mtime":1628700939407},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\84407\\Desktop\\777\\777\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9ImhlYWRlciI+DQogICAgPGRpdiBjbGFzcz0ibGVmdCI+DQogICAgICA8aSB2LWlmPSJoYXNCYWNrIiBjbGFzcz0iZWwtaWNvbi1iYWNrIiBAY2xpY2s9ImJhY2siPjwvaT4NCiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDIwcHgiPnt7IG5hbWUgfX08L3NwYW4+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0icmlnaHQiPg0KICAgICAgPGVsLXBvcG92ZXINCiAgICAgICAgcGxhY2VtZW50PSJib3R0b20iDQogICAgICAgIDp3aWR0aD0iMzIwIg0KICAgICAgICB0cmlnZ2VyPSJjbGljayINCiAgICAgICAgcG9wcGVyLWNsYXNzPSJwb3BwZXItdXNlci1ib3giDQogICAgICAgIEBzaG93PSJmZiINCiAgICAgID4NCiAgICAgICAgPHRlbXBsYXRlICNyZWZlcmVuY2U+DQogICAgICAgICAgPGRpdiBjbGFzcz0iYXV0aG9yIj4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJpY29uIGVsLWljb24tcy1jdXN0b20iIC8+DQogICAgICAgICAgICB7eyB1c2VySW5mbyAmJiB1c2VySW5mby5uaWNrTmFtZSB8fCAnJyB9fQ0KICAgICAgICAgICAgPGkgY2xhc3M9ImVsLWljb24tY2FyZXQtYm90dG9tIiAvPg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L3RlbXBsYXRlPg0KICAgICAgICA8ZGl2IGNsYXNzPSJuaWNrbmFtZSI+DQogICAgICAgICAgPHA+55m75b2V5ZCN77yae3sgdXNlckluZm8gJiYgdXNlckluZm8ubG9naW5Vc2VyTmFtZSB8fCAnJyB9fTwvcD4NCiAgICAgICAgICA8cD7mmLXnp7DvvJp7eyB1c2VySW5mbyAmJiB1c2VySW5mby5uaWNrTmFtZSB8fCAnJyB9fTwvcD4NCiAgICAgICAgICA8ZWwtdGFnIHNpemU9InNtYWxsIiBlZmZlY3Q9ImRhcmsiIGNsYXNzPSJsb2dvdXQiIEBjbGljaz0ibG9nb3V0Ij7pgIDlh7o8L2VsLXRhZz4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2VsLXBvcG92ZXI+DQogICAgPC9kaXY+DQogIDwvZGl2Pg0K"},{"version":3,"sources":["C:\\Users\\84407\\Desktop\\777\\777\\src\\components\\Header.vue"],"names":[],"mappings":"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AC,CAAC,CAAC,CAAC;UACxD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;UAClD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/84407/Desktop/777/777/src/components/Header.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"header\">\r\n    <div class=\"left\">\r\n      <i v-if=\"hasBack\" class=\"el-icon-back\" @click=\"back\"></i>\r\n      <span style=\"font-size: 20px\">{{ name }}</span>\r\n    </div>\r\n    <div class=\"right\">\r\n      <el-popover\r\n        placement=\"bottom\"\r\n        :width=\"320\"\r\n        trigger=\"click\"\r\n        popper-class=\"popper-user-box\"\r\n        @show=\"ff\"\r\n      >\r\n        <template #reference>\r\n          <div class=\"author\">\r\n            <i class=\"icon el-icon-s-custom\" />\r\n            {{ userInfo && userInfo.nickName || '' }}\r\n            <i class=\"el-icon-caret-bottom\" />\r\n          </div>\r\n        </template>\r\n        <div class=\"nickname\">\r\n          <p>登录名：{{ userInfo && userInfo.loginUserName || '' }}</p>\r\n          <p>昵称：{{ userInfo && userInfo.nickName || '' }}</p>\r\n          <el-tag size=\"small\" effect=\"dark\" class=\"logout\" @click=\"logout\">退出</el-tag>\r\n        </div>\r\n      </el-popover>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, reactive, toRefs } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport axios from '../utils/axios'\r\nimport { localRemove, pathMap } from '../utils/index.js'\r\nexport default {\r\n  name: 'Header',\r\n  setup() {\r\n    const ff = () => {\r\n      getUserInfo()\r\n    }\r\n    const router = useRouter()\r\n    const state = reactive({\r\n      name: '主页',\r\n      userInfo: null,\r\n      hasBack: false\r\n    })\r\n    onMounted(() => {\r\n        getUserInfo()\r\n    })\r\n    const getUserInfo = async () => {\r\n      const userInfo = await axios.get('/api/userinfo');\r\n      state.userInfo = userInfo\r\n    }\r\n    const logout = () => {\r\n        //此处本应该是axios.delete操作，但我暂时不懂后端该怎么写。。\r\n        localRemove('token')\r\n        window.location.reload()\r\n    }\r\n    const back = () => {\r\n      router.back()\r\n    }\r\n    router.afterEach((to) => {\r\n      console.log('to', to)\r\n    //  const { id } = to.query\r\n      state.name = pathMap[to.name]\r\n    //  if (id && to.name == 'add') {\r\n    //    state.name = '编辑商品'\r\n    //  }\r\n    //下面这条代码是动态添加返回键用的，暂时用不到所以先注释掉\r\n    //state.hasBack = ['level2', 'level3', 'order_detail'].includes(to.name)\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      logout,\r\n      back,\r\n      ff\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .header {\r\n    height: 50px;\r\n    border-bottom: 1px solid #e9e9e9;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 20px;\r\n  }\r\n  .el-icon-back {\r\n    border: 1px solid #e9e9e9;\r\n    padding: 4px;\r\n    border-radius: 50px;\r\n    margin-right: 10px;\r\n  }\r\n  .right > div > .icon{\r\n    font-size: 18px;\r\n    margin-right: 6px;\r\n  }\r\n  .author {\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n<style>\r\n  .popper-user-box {\r\n    background: url('../assets/callingName.jpg') 50% 50% no-repeat!important;\r\n    background-size: cover!important;\r\n    border-radius: 0!important;\r\n  }\r\n  .popper-user-box .nickname {\r\n    position: relative;\r\n    color: #ffffff;\r\n  }\r\n  .popper-user-box .nickname .logout {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    cursor: pointer;\r\n  }\r\n</style>"]}]}